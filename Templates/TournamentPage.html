{% extends 'base.html' %}
{% load static %}
{% block title %}
    <title>TOURNAMENT-{{tournament.name|upper}}</title>
{% endblock title %}

{% block css %}
    <style>
        .heading{
            color:#9cc;
            text-transform: uppercase;
            font-size:35px;
            letter-spacing: 5px;
            font-family: 'Luckiest Guy', cursive;
            font-weight: bolder;
            padding-bottom: 15px;
        }
        .form-container{
            padding:5% 15%;
            color:rgb(216, 236, 236);
            height:100%;
            width: 100%;
            background-color: rgba(18, 16, 31, 0.22);
            box-shadow: 6px 6px 8px 2px rgba(18, 12, 31, 0.52);
            margin-bottom: 10%;
        }
        .input {
            font-family: 'Josefin Sans', sans-serif;
            width: 100%;
            font-size:18px;
            border: 0;
            padding: 0;
            background-color: transparent;
            letter-spacing: 1px;;
            text-transform: uppercase;
            height: 2rem;
            line-height: 2rem;
            border-bottom: 1px solid #eee;
            color: #2094ab;
            transition: all .2s ease-in;
            border-radius: 0;
          }
        .input:focus {
            outline: 0;
            border-color: #de7a22;
        }
        .input:focus + .label, input:valid + .label {
            transform: translateY(-100%);
            font-size: 14px;
            color: #de7a22d0;
        }
        .field {
            position: relative;
            margin-bottom: 36px;
        }
        .label {
            font-family: 'Josefin Sans', sans-serif;
            font-size:16px;
            letter-spacing: 2px;;
            text-transform: uppercase;
            position: absolute;
            left: 0px;
            height: 2rem;
            line-height: 2rem;
            bottom: 0;
            color: #de7a22;
            transition: all .3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .form{
            margin:2.5%;
        }
        option{
            background-color:#e4e978;
        }
        .bttn{
            font-family: 'Josefin Sans', sans-serif;
            font-size: 20px;
            width:50%;
            padding-top:5px;
            height:35px;
            border:1px solid #de7a22;
            color:#de7a22;
            background-color:transparent;
            border-radius: 5px;
        }
        .bttn:hover{
            border:1px solid #eeeeee;
            color:white;
            background-color:transparent;
        }
    </style>
{% endblock css %}

{% block link %}
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet" /> <!-- https://fonts.google.com/ -->
    <link href="{% static 'css/tournamentpage.css' %}" rel="stylesheet" />
{% endblock link %}

{% block content %} 
    <div class="tm-container main">        
        <div>
            <div class="tm-row pt-4">
                <div class="tm-col-left">
                    <div class="tm-site-header media">
                        <!-- <i class="fas fa-umbrella-beach fa-3x mt-0 tm-logo"></i> -->
                        <div class="media-body">
                            <h1 class="tm-sitename text-uppercase" style="color:#222831; font-weight:bolder;font-size:36px;">{{tournament.name|upper}}</h1>
                            <p class="tm-slogon" style="color:#30475e; font-weight:bolder;font-size:20px;font-family: 'Varela Round', sans-serif;letter-spacing:2px;">Connect, Create, Cricket</p>
                        </div>        
                    </div>
                </div>
                <div class="tm-col-right">
                    <nav class="navbar navbar-expand-lg" id="tm-main-nav">
                        <button class="navbar-toggler toggler-example mr-0 ml-auto" type="button" 
                            data-toggle="collapse" data-target="#navbar-nav" 
                            aria-controls="navbar-nav" aria-expanded="false" aria-label="Toggle navigation">
                            <span><i class="fas fa-bars"></i></span>
                        </button>
                        <div class="collapse navbar-collapse tm-nav" id="navbar-nav">
                            <ul class="navbar-nav text-uppercase">
                                <li class="nav-item active">
                                    <a class="nav-link tm-nav-link" href="http://127.0.0.1:8000/tournament/{{tournament.name}}/">Home <span class="sr-only"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link tm-nav-link" href="http://127.0.0.1:8000/tournament/{{tournament.name}}/auction/">Auction</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link tm-nav-link" href="http://127.0.0.1:8000/tournament/{{tournament.name}}/match/">match</a>
                                </li>              
                                <li class="nav-item">
                                    <a class="nav-link tm-nav-link" href="http://127.0.0.1:8000/tournament/{{tournament.name}}/pointstable/">Points<span style="margin-right:10px;"></span>table</a>
                                </li>
                            </ul>                            
                        </div>                        
                    </nav>
                </div>
            </div>
            
            <div class="tm-row">
                <div class="tm-col-left"></div>
                <main class="tm-col-right tm-contact-main">
                    <section class="tm-content">
                        <div class="form-container">
                            <div class="heading" align="center">
                                team add-on
                            </div>
                            <form action="" method="POST" class="form">
                                <div class="field">
                                    <input type="text" name="owner" id="fieldPassword" class="input" required pattern=.*\S.* />
                                    <label for="fieldPassword" class="label">Owner Name</label>
                                </div>
                                <div class="field">
                                    <input type="text" name="team_name" id="fieldPassword" class="input" required pattern=.*\S.* />
                                    <label for="fieldPassword" class="label">Team Name</label>
                                </div>
                                <div align="center">
                                    <button type="submit" class="bttn">ADD</button>
                                </div>
                            </form>
                        </div>
                    </section>
                </main>
            </div>
        </div>   

        <div class="tm-row">
            <div class="tm-col-left text-center"></div>        
            <div style="color:white" class="tm-col-right tm-col-footer">
                <footer class="tm-site-footer text-right">
                    
                </footer>
            </div>  
        </div>

        <!-- Diagonal background design -->
        <div class="tm-bg">
            <div class="tm-bg-left"></div>
            <div class="tm-bg-right"></div>
        </div>
    </div>
{% endblock content %}

{% block script %}
    <script>
        const initBg = (autoplay = true) => {
        const bgImgsNames = ['diagoona-bg-1.jpg', 'diagoona-bg-2.jpg', 'diagoona-bg-3.jpg'];
        const bgImgs = ["{% static 'images/bg.jpg' %}", "{% static 'images/bg7.jpg' %}", "{% static 'images/cricketbg.jpg' %}"]

        $.backstretch(bgImgs, {duration: 4000, fade: 500});

        if(!autoplay) {
        $.backstretch('pause');  
        }    
    }

    const setBg = id => {
        $.backstretch('show', id);
    }

    const setBgOverlay = () => {
        const windowWidth = window.innerWidth;
        const bgHeight = $('body').height();
        const tmBgLeft = $('.tm-bg-left');

        $('.tm-bg').height(bgHeight);

        if(windowWidth > 768) {
            tmBgLeft.css('border-left', `0`)
                    .css('border-top', `${bgHeight}px solid transparent`);                
        } else {
            tmBgLeft.css('border-left', `${windowWidth}px solid transparent`)
                    .css('border-top', `0`);
        }
    }

    $(document).ready(function () {
        const autoplayBg = true;	// set Auto Play for Background Images
        initBg(autoplayBg);    
        setBgOverlay();

        const bgControl = $('.tm-bg-control');            
        bgControl.click(function() {
            bgControl.removeClass('active');
            $(this).addClass('active');
            const id = $(this).data('id');                
            setBg(id);
        });

        $(window).on("backstretch.after", function (e, instance, index) {        
            const bgControl = $('.tm-bg-control');
            bgControl.removeClass('active');
            const current = $(".tm-bg-controls-wrapper").find(`[data-id=${index}]`);        
            current.addClass('active');
        });

        $(window).resize(function() {
            setBgOverlay();
        });
    });
    </script>
    <script src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
    <script src="{% static 'js/jquery.backstretch.min.js' %}"></script>
{% endblock script %}